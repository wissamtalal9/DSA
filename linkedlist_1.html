<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        class Node {
            constructor(value) {
                this.value = value;
                this.next = null;
            }
        }

        class linkedList {
            constructor() {
                this.head = null;
                this.size = 0;
            }
            isEmpty() {
                return this.size === 0;
            }

            gotSize() {
                return this.size;
            }

            prepend(value) {
                const node = new Node(value);
                if (this.isEmpty()) {
                    this.head = node;

                }
                else {
                    node.next = this.head;
                    this.head = node;
                }
                this.size++;
            }
            append(value) {
                const node = new Node(value);
                if (this.isEmpty()) {
                    this.head = node;
                }
                else {
                    let prev = this.head;
                    while (prev.next) {
                        prev = prev.next;
                    }
                    prev.next = node;
                }
                this.size++
            }

            insert(value, index) {
                const node = new Node(value);

                if (index < 0 || index > this.size) {
                    return;
                }
                if (index === 0) {
                    this.prepend(value);
                }
                else {
                    let prev = this.head;
                    for (let i = 0; i < index - 1; i++) {
                        prev = prev.next;
                    }
                    node.next = prev.next;
                    prev.next = node;
                    this.size++;
                }

            }

            removeFrom(index) {
                if (index < 0 || index >= this.size) {
                    return null;
                }
                let removeNode;
                if (index === 0) {
                    removeNode = this.head;
                    this.head = this.head.next;

                }
                else {
                    let prev = this.head;
                    for (let i = 0; i < index - 1; i++) {
                        prev = prev.next;
                    }
                    removeNode = prev.next;
                    prev.next = removeNode.next;

                }
                return removeNode.value;
                this.size--;
            }

            removeValue(value) {
                if (this.isEmpty()) {
                    return null;
                }
                if (value === this.head.value) {
                    this.head = this.head.next;
                    this.size--;
                    return value;
                }
                else {
                    let perv = this.head;
                    while (perv.next && perv.next.value !== value) {
                        perv = perv.next;
                    }
                    if (perv.next) {
                        let removeNode = perv.next;
                        perv.next = removeNode.next;
                        this.size--;
                        return value
                    }
                    return null;
                }
            }

            search(value) {
                if (this.isEmpty()) {
                    return -1;
                }
                let i = 0;
                let curr = this.head;
                while (curr) {
                    if (curr.value === value) {
                        return i;
                    }
                    curr = curr.next;
                    i++;
                }
                return -1;
            }

            reverse() {
                let prev = null;
                let curr = this.head;

                while (curr) {
                    let next = curr.next;
                    curr.next = prev;
                    prev = curr;
                    curr = next;
                }
                this.head = prev;
            }

            print() {
                if (this.isEmpty()) {
                    console.log("List is empty");
                } else {
                    let curr = this.head;
                    let list = '';
                    while (curr) {
                        list += `${curr.value}->`;
                        curr = curr.next;
                    }
                    console.log(list);
                }
            }
        }
        const list = new linkedList();
        console.log(`The linked list is : ${list.isEmpty()}`);
        console.log(`the size of linkedList is: ${list.gotSize()}`);

        console.log(list.isEmpty())
        list.insert(10, 0)
        list.print();

        list.insert(20, 0)
        list.print();

        list.insert(30, 1)
        list.print();

        list.insert(40, 3);
        list.print()

        console.log(list.size);

        list.removeValue(30)
        list.print()
        console.log(list.size);

        console.log(list.search(10));


        list.reverse();
        list.print();
    </script>
</body>

</html>